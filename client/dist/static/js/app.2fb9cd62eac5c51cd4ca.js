webpackJsonp([1],{"0Vhu":function(t,e){},"1GiT":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=(a("feh2"),0),n=1,r=2,u={name:"MusicPlayer",props:{tracks:{type:Array,default:[]}},data:function(){return{activeTrack:0,audioElement:null,status:i,volume:5,currentTime:0,duration:"0:00",printCurrentTime:"0:00",progress:0}},methods:{toggleStatus:function(){this.isTrackLoaded||this.loadTrack(this.activeTrack||0),this.isPlaying?this.pause():this.play()},loadTrack:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.audioElement&&this.audioElement.pause(),t>=this.tracks.length)return!1;this.activeTrack=t,this.audioElement=new Audio(this.tracks[t].url),this.updateVolume(),this.status=i,this.audioElement.addEventListener("ended",this.loadNextTrack),this.audioElement.addEventListener("loadedmetadata",this.prettyDuration),this.audioElement.ontimeupdate=this.updateProgress,e&&this.play()},prettyDuration:function(){console.log(this.duration),this.duration=parseInt(this.audioElement.duration/60)+":"+parseInt(this.audioElement.duration%60)},loadNextTrack:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.activeTrack++,this.activeTrack>=this.tracks.length&&(this.activeTrack=0),this.loadTrack(this.activeTrack,t)},play:function(){this.status=r,this.audioElement.play()},pause:function(){this.status=n,this.audioElement.pause()},updateVolume:function(){this.audioElement&&(this.audioElement.volume=this.volume/10)},updateProgress:function(){if(!this.audioElement||!this.audioElement.currentTime)return this.progress=0;this.progress=this.audioElement.currentTime/this.audioElement.duration*100,this.printCurrentTime=parseInt(this.audioElement.currentTime/60)+"\n         : "+(parseInt(this.audioElement.currentTime%60)<10?"0"+parseInt(this.audioElement.currentTime%60):parseInt(this.audioElement.currentTime%60))},updateCurrentTime:function(){if(!this.audioElement||!this.audioElement.currentTime)return this.currentTime=0;this.audioElement.currentTime=Math.floor(this.audioElement.duration*(this.currentTime/100))}},computed:{isPaused:function(){return n===this.status},isPlaying:function(){return r===this.status},isTrackLoaded:function(){return null!==this.activeTrack&&this.audioElement}},watch:{volume:function(t){this.updateVolume()},currentTime:function(t){this.updateCurrentTime()}},beforeDestroy:function(){this.audioElement.pause(),this.audioElement.currentTime=0}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"MusicPlayer",attrs:{id:"MusicPlayer"}},[a("div",{staticClass:"column is-6 is-offset-3"},[a("div",{attrs:{id:"media-player"}},[a("ul",t._l(t.tracks,function(e,s){return a("li",{key:s,class:{"is-active":s===t.activeTrack}},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.loadTrack(s,!0)}}},[t._v(t._s(e.title)+" by "+t._s(e.artist))])])}),0),t._v(" "),a("div",{staticClass:"media-player__controls"},[a("div",{staticClass:"media-player__play-pause-button"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleStatus(e)}}},[a("i",{staticClass:"material-icons"},[t._v("\n              "+t._s(t.isPlaying?"pause_circle_filled":"play_circle_filled_white")+"\n            ")])])]),t._v(" "),a("div",{staticClass:"media-player__playback-container"},[a("span",{staticClass:"currentTime"},[t._v(t._s(this.printCurrentTime))]),t._v(" "),a("div",{style:{width:t.progress+"%"}}),t._v(" "),a("span",{staticClass:"duration"},[t._v(t._s(this.duration))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentTime,expression:"currentTime"}],attrs:{type:"range",min:"0",max:"100",step:"1"},domProps:{value:t.currentTime},on:{__r:function(e){t.currentTime=e.target.value}}})]),t._v(" "),a("div",{staticClass:"media-player__volume-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],attrs:{type:"range",min:"0",max:"10",step:"0.5"},domProps:{value:t.volume},on:{__r:function(e){t.volume=e.target.value}}})])])])])])},staticRenderFns:[]};var c=a("VU/8")(u,l,!1,function(t){a("Z6ze")},null,null).exports,o={name:"App",data:function(){return{tracks:[]}},mounted:function(){},methods:{addMusic:function(t){var e=this;if(this.tracks.length>0&&this.tracks[this.tracks.length-1].title===t.title)return setTimeout(function(){return e.$refs.musicPlayer.toggleStatus()},1);this.tracks=[t],setTimeout(function(){return e.$refs.musicPlayer.loadTrack(e.tracks.length-1,!0)},1)}},beforeDestroy:function(){this.tracks=[]},components:{MusicPlayer:c}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("header",[a("div",[a("router-link",{attrs:{to:"/"}},[a("span",{staticClass:"point-color"},[t._v("ZOMB")]),t._v(" SOUND\n      ")])],1)]),t._v(" "),a("router-view",{attrs:{addMusic:t.addMusic}}),t._v(" "),t.tracks.length>0?a("MusicPlayer",{ref:"musicPlayer",attrs:{tracks:t.tracks}}):t._e()],1)},staticRenderFns:[]};var d=a("VU/8")(o,m,!1,function(t){a("0Vhu")},null,null).exports,v=a("/ocq"),_=a("Xxa5"),h=a.n(_),p=a("exGp"),f=a.n(p),b=a("mtWM"),g=a.n(b),k=function(){return g.a.create({baseURL:"/api"})},y=function(){return k().get("/albums")},T=function(t){return k().get("/albums/"+t)},E={name:"AlbumLists",data:function(){return{albums:[]}},mounted:function(){this.getAlbums()},methods:{getAlbums:function(){var t=this;return f()(h.a.mark(function e(){var a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:a=e.sent,t.albums=a.data.albums;case 4:case"end":return e.stop()}},e,t)}))()}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"AlbumLists"}},[t.albums.length>0?s("div",{staticClass:"AlbumLists"},t._l(t.albums,function(e,i){return s("div",{key:e.a_id,staticClass:"Album"},[s("div",{staticClass:"Album-image"},[s("img",{attrs:{src:a("g2Y0")("./"+e.album_pic),alt:e.album_name}})]),t._v(" "),s("div",{staticClass:"Album-info"},[s("router-link",{attrs:{to:"/album/"+e.a_id}},[s("div",{staticClass:"Album-number"},[t._v(t._s(i+1))]),t._v(" "),s("div",{staticClass:"Album-name"},[t._v(t._s(e.album_name))]),t._v(" "),s("div",{staticClass:"Album-aritst"},[t._v(t._s(e.artist_name))]),t._v(" "),s("div",{staticClass:"Album-date"},[t._v(t._s(e.release_date))]),t._v(" "),s("div",{staticClass:"Album-genre"},[t._v(t._s(e.genres))])])],1)])}),0):s("div",{staticClass:"Album-empty"},[t._v("등록된 앨범이 없습니다.")])])},staticRenderFns:[]};var A=a("VU/8")(E,C,!1,function(t){a("U8Ky")},null,null).exports,w={name:"AlbumLists",props:["addMusic"],data:function(){return{album:void 0,tracks:[]}},mounted:function(){this.getAlbum(this.$route.params.id)},methods:{getAlbum:function(t){var e=this;return f()(h.a.mark(function a(){var s;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,T(t);case 2:s=a.sent,e.album=s.data.album[0],e.tracks=s.data.tracks;case 5:case"end":return a.stop()}},a,e)}))()},onAddMusic:function(t){var e={url:t.song_url,title:t.title,artist:t.artist_name};this.addMusic(e)}}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"Album"}},[void 0!==t.album?s("div",{staticClass:"Album"},[s("h1",[s("i",{staticClass:"material-icons"},[t._v("album")]),t._v("\n      "+t._s(t.album.album_name)+"\n    ")]),t._v(" "),s("div",{staticClass:"Album-image"},[s("img",{attrs:{src:a("g2Y0")("./"+t.album.album_pic),alt:t.album.album_name}})]),t._v(" "),s("div",{staticClass:"Album-info"},[s("div",[s("span",[t._v("아티스트")]),t._v(" "),s("span",[t._v(t._s(t.album.artist_name))])]),t._v(" "),s("div",[s("span",[t._v("앨범종류")]),t._v(" "),s("span",[t._v(t._s(t.album.album_type))])]),t._v(" "),s("div",[s("span",[t._v("발매일")]),t._v(" "),s("span",[t._v(t._s(t.album.release_date))])]),t._v(" "),s("div",[s("span",[t._v("장르")]),t._v(" "),s("span",[t._v(t._s(t.album.genres))])]),t._v(" "),s("div",[s("span",[t._v("스타일")]),t._v(" "),s("span",[t._v(t._s(t.album.styles))])]),t._v(" "),s("div",[s("span",[t._v("기획사")]),t._v(" "),s("span",[t._v(t._s(t.album.agency))])]),t._v(" "),s("div",[s("span",[t._v("유통사")]),t._v(" "),s("span",[t._v(t._s(t.album.distributor))])]),t._v(" "),s("div",[s("span",[t._v("재생시간")]),t._v(" "),s("span",[t._v(t._s(t.album.Playback_time))])]),t._v(" "),s("div",[s("span",[t._v("고음질")]),t._v(" "),s("span",[t._v(t._s(t.album.high_pitched_quality))])]),t._v(" "),s("div",{staticClass:"Album-likes"},[t._m(0),t._v(" "),s("span",[t._v(t._s(t.album.likes))])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"Album-track"},[s("div",{staticClass:"Album-track-heading"},[t._v("수록곡")]),t._v(" "),s("table",[t._m(1),t._v(" "),t._m(2),t._v(" "),t.tracks.length>0?s("tbody",t._l(t.tracks,function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(a+1))]),t._v(" "),s("td",[t._v(t._s(e.title))]),t._v(" "),s("td",[t._v(t._s(e.artist_name))]),t._v(" "),s("td",[s("a",{staticClass:"music-btn",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.onAddMusic(e)}}},[s("i",{staticClass:"material-icons"},[t._v("play_circle_filled")])])])])}),0):s("tbody",[t._m(3)])])])]):s("div",[t._v("앨범이 없습니다.")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"material-icons"},[this._v("star_border")]),this._v(" 좋아요\n        ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("colgroup",[e("col",{attrs:{width:"12%"}}),this._v(" "),e("col",{attrs:{width:"43%"}}),this._v(" "),e("col",{attrs:{width:"30%"}}),this._v(" "),e("col",{attrs:{width:"15%"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("번호")]),this._v(" "),e("th",[this._v("곡")]),this._v(" "),e("th",[this._v("아티스트")]),this._v(" "),e("th",[this._v("듣기")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"4"}},[this._v("수록곡이 없습니다.")])])}]};var P=a("VU/8")(w,x,!1,function(t){a("1GiT")},null,null).exports;s.a.use(v.a);var M=new v.a({mode:"history",routes:[{path:"/",name:"AlbumLists",component:A},{path:"/play",name:"MusicPlayer",component:c},{path:"/album/:id",name:"Album",component:P}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:M,components:{App:d},template:"<App/>"})},U8Ky:function(t,e){},Z6ze:function(t,e){},cKFT:function(t,e,a){t.exports=a.p+"static/img/fallinlove.df5b3a7.jpg"},feh2:function(t,e){},g2Y0:function(t,e,a){var s={"./fallinlove.jpg":"cKFT","./loveletters.jpg":"rpKR","./yesterday.jpg":"zTYT"};function i(t){return a(n(t))}function n(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="g2Y0"},rpKR:function(t,e,a){t.exports=a.p+"static/img/loveletters.0433500.jpg"},zTYT:function(t,e,a){t.exports=a.p+"static/img/yesterday.a52ece0.jpg"}},["NHnr"]);
//# sourceMappingURL=app.2fb9cd62eac5c51cd4ca.js.map